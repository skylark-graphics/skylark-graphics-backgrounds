{"version":3,"sources":["background-size.js"],"names":["define","langx","backgrounds","BackgroundSizeType","BackgroundSize","klass","klassName","type","get","this","_","x","set","t","auto","contain","cover","width","height","w","measure","clone","_height","notEqual","bs","equal","toString","delimiter","-constructor-","initialize","props","undefined","_setupAttributeValues","fromNumber","n","MeasureType","unit","MeasureUnit","px","fromString","s","value","units","enumOptions","map","item","getText","concat","i","length","indexOf","parseInt","substring","percent","fromPlain","o","Measure","fromArray","a","fromCss","css","backgroundSize","toCss"],"mappings":";;;;;;;AAAAA,QACC,sBACA,gBACA,0BACC,SAASC,EAAMC,EAAYC,GAE5B,IAAIC,EAAiBH,EAAMI,OAC1BC,UAAc,iBAEdC,MACCC,IAAM,WACL,OAAOC,KAAKC,EAAEC,GAEfC,IAAM,SAASC,GACd,IAAIH,EAAID,KAAKC,EAEb,OADAA,EAAEH,KAAOM,EACDA,GACP,KAAKV,EAAmBW,KACxB,KAAKX,EAAmBY,QACxB,KAAKZ,EAAmBa,MACvBN,EAAEO,MAAQ,KACVP,EAAEQ,OAAS,QAQfA,QACCV,IAAM,WACL,OAAOC,KAAKC,EAAEQ,QAEfN,IAAM,SAASO,GACd,IAAIT,EAAID,KAAKC,EAEb,OADCG,EAAIH,EAAEH,KACCM,GACP,KAAKV,EAAmBiB,QACvBV,EAAEO,MAAQE,KAQdF,OACCT,IAAM,WACL,OAAOC,KAAKC,EAAEO,OAEfL,IAAM,SAASO,GACd,IAAIT,EAAID,KAAKC,EAEb,OADCG,EAAIH,EAAEH,KACCM,GACP,KAAKV,EAAmBiB,QACvBV,EAAEO,MAAQE,KAQdE,MAAU,WACT,IAAIX,EAAID,KAAKC,EACb,OAAO,IAAIN,EAAeM,EAAEH,KAAKG,EAAEO,MAAMK,UAI1CC,SAAa,SAA2BC,GACvC,OAAQA,GAAMA,EAAGjB,MAAQE,KAAKF,MAAQiB,EAAGP,OAASO,EAAGP,MAAMM,SAASd,KAAKQ,QAAUO,EAAGN,QAAUM,EAAGN,OAAOK,SAASd,KAAKS,SAGzHO,MAAU,SAA2BD,GACpC,OAASf,KAAKc,SAASC,IAGxBE,SAAa,SAASC,GAErB,OADAA,EAAYA,GAAwB,IAC5BlB,KAAKF,MACZ,KAAKJ,EAAmBiB,QACvB,OAAOX,KAAKQ,MAAMS,WAAWC,EAAYlB,KAAKS,OAAOQ,WACtD,QACC,OAAOjB,KAAKF,KAAKmB,aAMpBE,iBACCC,WAAe,SAAStB,EAAKU,EAAMC,GAClC,IAAIY,UACQC,GAARxB,IACHuB,EAAMvB,KAAOA,QAEDwB,GAATd,IACHa,EAAMb,MAAQA,QAEDc,GAAVb,IACHY,EAAMZ,OAASA,GAEhBT,KAAKuB,sBAAsBF,OA4E9B,OAtEA1B,EAAe6B,WAAa,SAASC,GAC9B,OAAO,IAAI9B,EAAe+B,YAAYC,KAAKF,EAAEG,YAAYC,KAIhElC,EAAemC,WAAa,SAASC,GACpC,IAAIjC,EASJ,GARO,QAAHiC,EACHjC,EAAQJ,EAAmBW,KACZ,WAAL0B,EACVjC,EAAQJ,EAAmBY,QACZ,SAALyB,IACVjC,EAAQJ,EAAmBa,OAGxBT,EACH,OAAO,IAAIH,EAAeG,GAG3BA,EAAOJ,EAAmBiB,QAOpB,IALN,IAGCqB,EACAL,EAJGM,EAAQL,YAAYM,cAAcC,IAAI,SAASC,GACjD,OAAOA,EAAKC,YACVC,OAAO,KAGIC,EAAI,EAAGA,EAAIN,EAAMO,OAAQD,IAC9B,IAA4B,GAAxBR,EAAEU,QAAQR,EAAMM,IAAW,CAC3BP,EAAQU,SAASX,EAAEY,UAAU,EAAGZ,EAAES,OAASP,EAAMM,GAAGC,QAAQ,IAC5C,KAAZP,EAAMM,GACTzC,EAAO4B,YAAYkB,SAEnB9C,EAAO4B,YAAYC,KACnBA,EAAOC,YAAYE,WAAWG,EAAMM,KAErC,MAGR,OAAO,IAAI5C,EAAeG,EAAKkC,EAAML,IAG5ChC,EAAekD,UAAY,SAASC,GACnC,OAAO,IAAIC,QAAQD,EAAEhD,KAAKgD,EAAEd,MAAMc,EAAEnB,OAGrChC,EAAeqD,UAAY,SAASC,GACnC,OAAO,IAAItD,EAAesD,EAAE,GAAGA,EAAET,OAAO,EAAES,EAAE,GAAG,YAAYA,EAAET,OAAO,EAAES,EAAE,QAAG3B,IAG5E3B,EAAeuD,QAAU,SAASC,GACjC,YAA0B7B,GAAtB6B,EAAIC,eACAzD,EAAemC,WAAWqB,EAAIC,gBAE9B,MAITzD,EAAe0D,MAAQ,SAAStC,EAAGoC,GAOlC,OANKA,IACJA,MAEGpC,IACHoC,EAAIC,eAAiBrC,EAAGE,YAElBkC,GAGRxD,EAAeU,KAAO,IAAIV,EAAeD,EAAmBW,MAGrDV","file":"../background-size.js","sourcesContent":["define([\r\n\t\"skylark-langx/langx\",\r\n\t\"./backgrounds\",\r\n\t\"./background-size-type\"\r\n],function(langx,backgrounds,BackgroundSizeType) {\r\n\r\n\tvar BackgroundSize = langx.klass({\r\n\t\t\"klassName\"\t:\t\"BackgroundSize\",\r\n\r\n\t\t\"type\" : {\r\n\t\t\tget : function() {\r\n\t\t\t\treturn this._.x;\r\n\t\t\t},\r\n\t\t\tset : function(t) {\r\n\t\t\t\tvar _ = this._;\r\n\t\t\t\t_.type = t;\r\n\t\t\t\tswitch (t) {\r\n\t\t\t\t\tcase BackgroundSizeType.auto :\r\n\t\t\t\t\tcase BackgroundSizeType.contain :\r\n\t\t\t\t\tcase BackgroundSizeType.cover :\r\n\t\t\t\t\t\t_.width = null;\r\n\t\t\t\t\t\t_.height = null;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"height\" : {\r\n\t\t\tget : function() {\r\n\t\t\t\treturn this._.height;\r\n\t\t\t},\r\n\t\t\tset : function(w) {\r\n\t\t\t\tvar _ = this._;\r\n\t\t\t\t\tt = _.type;\r\n\t\t\t\tswitch (t) {\r\n\t\t\t\t\tcase BackgroundSizeType.measure :\r\n\t\t\t\t\t\t_.width = w;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"width\" : {\r\n\t\t\tget : function() {\r\n\t\t\t\treturn this._.width;\r\n\t\t\t},\r\n\t\t\tset : function(w) {\r\n\t\t\t\tvar _ = this._;\r\n\t\t\t\t\tt = _.type;\r\n\t\t\t\tswitch (t) {\r\n\t\t\t\t\tcase BackgroundSizeType.measure :\r\n\t\t\t\t\t\t_.width = w;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"clone\"\t: function(){\r\n\t\t\tvar _ = this._;\r\n\t\t\treturn new BackgroundSize(_.type,_.width,_height);\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\t\"notEqual\"\t:\tfunction(/*BackgroundSize*/bs) {\r\n\t\t\treturn !bs || bs.type != this.type || bs.width && bs.width.notEqual(this.width) || bs.height && bs.height.notEqual(this.height);\r\n\t\t},\r\n\t\t\r\n\t\t\"equal\"\t:\tfunction(/*BackgroundSize*/bs){\r\n\t\t\treturn  !this.notEqual(bs);\r\n\t\t},\r\n\r\n\t\t\"toString\" : function(delimiter){\r\n\t\t\tdelimiter = delimiter ? delimiter : \" \";\r\n\t\t\tswitch (this.type) {\r\n\t\t\t\tcase BackgroundSizeType.measure :\r\n\t\t\t\t\treturn this.width.toString()+delimiter + this.height.toString();\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn this.type.toString();\r\n\t\t\t}\r\n\r\n\r\n\t\t},\t\r\n\t\t\r\n\t\t\"-constructor-\"\t:\t{\t\t\r\n\t\t\t\"initialize\" : function(type,width,height){\r\n\t\t\t\tvar props = {};\r\n\t\t\t\tif (type != undefined) {\r\n\t\t\t\t\tprops.type = type;\r\n\t\t\t\t}\r\n\t\t\t\tif (width != undefined) {\r\n\t\t\t\t\tprops.width = width;\r\n\t\t\t\t}\r\n\t\t\t\tif (height != undefined) {\r\n\t\t\t\t\tprops.height = height;\r\n\t\t\t\t}\r\n\t\t\t\tthis._setupAttributeValues(props);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t});\r\n\r\n\r\n\tBackgroundSize.fromNumber = function(n) {\r\n        return new BackgroundSize(MeasureType.unit,n,MeasureUnit.px);\r\n\r\n\t};\r\n\r\n\tBackgroundSize.fromString = function(s) {\r\n\t\tvar type ;\r\n\t\tif (s==\"auto\"){\r\n\t\t\ttype =  BackgroundSizeType.auto;\r\n\t\t} else if (s == \"contain\") {\r\n\t\t\ttype =  BackgroundSizeType.contain;\r\n\t\t} else if (s == \"cover\") {\r\n\t\t\ttype =  BackgroundSizeType.cover;\r\n\t\t}\r\n\r\n\t\tif (type) {\r\n\t\t\treturn new BackgroundSize(type);\r\n\t\t}\r\n\t\t\r\n\t\ttype = BackgroundSizeType.measure;\r\n\r\n\t\tvar units = MeasureUnit.enumOptions().map(function(item){\r\n\t\t\t\treturn item.getText();\r\n\t\t\t}).concat(\"%\"),\r\n\t\t\tvalue,\r\n\t\t\tunit;\r\n        for (var i = 0; i < units.length; i++) {\r\n            if (s.indexOf(units[i]) != -1) {\r\n                value = parseInt(s.substring(0, s.length - units[i].length),10);\r\n                if (units[i] == \"%\") {\r\n                \ttype = MeasureType.percent;\r\n                } else {\r\n                \ttype = MeasureType.unit;\r\n                \tunit = MeasureUnit.fromString(units[i]);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        return new BackgroundSize(type,value,unit);\r\n\t};\r\n\r\n\tBackgroundSize.fromPlain = function(o) {\r\n\t\treturn new Measure(o.type,o.value,o.unit);\r\n\t};\r\n\r\n\tBackgroundSize.fromArray = function(a) {\r\n\t\treturn new BackgroundSize(a[0],a.length>1?a[1]:\"undefined\",a.length>1?a[2]:undefined);\r\n\t};\r\n\r\n\tBackgroundSize.fromCss = function(css){\r\n\t\tif (css.backgroundSize != undefined) {\r\n\t\t\treturn BackgroundSize.fromString(css.backgroundSize);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\t\r\n\r\n\tBackgroundSize.toCss = function(bs,css) {\r\n\t\tif (!css) {\r\n\t\t\tcss = {};\r\n\t\t}\r\n\t\tif (bs) {\r\n\t\t\tcss.backgroundSize = bs.toString();\r\n\t\t}\r\n\t\treturn css;\r\n\t};\r\n\r\n\tBackgroundSize.auto = new BackgroundSize(BackgroundSizeType.auto);\r\n\t\r\n\r\n\treturn BackgroundSize;\r\n\t\r\n});\t\r\n\r\n"]}